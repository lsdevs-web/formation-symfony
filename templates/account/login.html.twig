{% extends 'base.html.twig' %}

{% block title %}Hello AccountController!{% endblock %}

{% block body %}

    <div class="container">

        <div class="row">

            <div class="col-md-3">&nbsp;</div>

            <div class="col-md-6">
                <div class="bg-light py-3 px-3">

                    <h1>Connectez-vous</h1>

                    {% if has_error %}
                        <div class="alert alert-danger">Utilisateur ou mot de passe invalide</div>
                    {% endif %}
                    <form action=" {{ path('account_login') }}" method="post"> {# L'action renvoie sur la route account_login pour que Symfony gère le formulaire #}
                        <div class="form-group">                               {# security.yaml #}
                            <label for="email">Email</label>
                            <input type="text" class="form-control" name="_username" id="email"
                                   placeholder="Adresse email" required value="{{ username }}"> {#  Symfony s'attends à _username et _password dans le name="" #}
                        </div>                                                                  {#  on met la value sur le dernier utilisateur connu #}
                        <div class="form-group">
                            <label for="password">Mot de passe</label>
                            <input type="password" placeholder="Mot de passe" class="form-control" id="password"
                                   name="_password" required> {#  Symfony s'attends à _username et _password dans le name="" #}
                        </div>
                        <div class="form-group">
                            <button type="submit" class="btn btn-success">Connexion</button>
                        </div>
                    </form>
                </div>

            </div>

        </div>

    </div>


{% endblock %}
